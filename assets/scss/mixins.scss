/* 실용적인 Mixins */
@use 'variables' as *;

/* ----- 반응형 믹스인 (모바일 퍼스트) ----- */

// 태블릿 이상 (768px~)
@mixin tablet {
    @media (min-width: #{$breakpoint-tablet}) {
        @content;
    }
}

// 데스크톱 이상 (1024px~)
@mixin desktop {
    @media (min-width: #{$breakpoint-desktop}) {
        @content;
    }
}

// PC 별칭 (하위 호환성)
@mixin pc {
    @media (min-width: #{$breakpoint-desktop}) {
        @content;
    }
}

// 모바일 전용 (~767px)
@mixin mobile-only {
    @media (max-width: #{$breakpoint-tablet - 1px}) {
        @content;
    }
}

// 태블릿 전용 (768px ~ 1023px)
@mixin tablet-only {
    @media (min-width: #{$breakpoint-tablet}) and (max-width: #{$breakpoint-desktop - 1px}) {
        @content;
    }
}

// 커스텀 브레이크포인트
@mixin respond-to($breakpoint) {
    @media (min-width: $breakpoint) {
        @content;
    }
}

/* ----- 컨테이너 ----- */
@mixin container($max-width: $max-width) {
    width: 100%;
    max-width: $max-width;
    margin: 0 auto;
    padding: 0 $container-padding;
    
    @include pc {
        padding: 0;
    }
}

/* ----- 반응형 폰트 (모바일 퍼스트) ----- */
@mixin font-responsive($mobile, $tablet: null, $desktop: null) {
    font-size: $mobile;
    
    @if $tablet {
        @include tablet {
            font-size: $tablet;
        }
    }
    
    @if $desktop {
        @include pc {
            font-size: $desktop;
        }
    }
}

/* ----- 접근성 ----- */
@mixin focus-visible {
    &:focus-visible {
        outline: 2px solid $primary-color;
        outline-offset: 2px;
    }
}

@mixin sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    margin: -1px;
    padding: 0;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    border: 0;
}

/* ----- Flexbox 유틸리티 ----- */
@mixin flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

@mixin flex-between {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

@mixin flex-column {
    display: flex;
    flex-direction: column;
}

/* ----- Grid 유틸리티 ----- */
@mixin grid-auto($min-width: 250px, $gap: 20px) {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax($min-width, 1fr));
    gap: $gap;
}

/* ----- 트랜지션 ----- */
@mixin transition($properties: all, $duration: 0.3s, $timing: ease) {
    transition: $properties $duration $timing;
}

/* ----- 배경 이미지 ----- */
@mixin bg-cover {
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
}

@mixin bg-contain {
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
}

/* ----- 말줄임 ----- */
@mixin ellipsis($lines: 1) {
    @if $lines == 1 {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    } @else {
        display: -webkit-box;
        -webkit-line-clamp: $lines;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
    }
}

/* ----- 종횡비 유지 ----- */
@mixin aspect-ratio($width, $height) {
    position: relative;
    
    &::before {
        content: '';
        display: block;
        padding-top: calc(($height / $width) * 100%);
    }
    
    > * {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
}

/* ----- 호버 효과 ----- */
@mixin hover-lift($distance: 5px) {
    @include transition(transform);
    
    &:hover {
        transform: translateY(-#{$distance});
    }
}

@mixin hover-scale($scale: 1.05) {
    @include transition(transform);
    
    &:hover {
        transform: scale($scale);
    }
}

/* ----- 스크롤바 스타일 ----- */
@mixin custom-scrollbar($width: 8px, $track-color: #f1f1f1, $thumb-color: #888) {
    &::-webkit-scrollbar {
        width: $width;
    }
    
    &::-webkit-scrollbar-track {
        background: $track-color;
    }
    
    &::-webkit-scrollbar-thumb {
        background: $thumb-color;
        border-radius: $width / 2;
        
        &:hover {
            background: darken($thumb-color, 10%);
        }
    }
    
    // Firefox
    scrollbar-width: thin;
    scrollbar-color: $thumb-color $track-color;
}

/* ----- 카드 스타일 ----- */
@mixin card($padding: 20px, $radius: 8px) {
    background: $bg-color;
    border-radius: $radius;
    padding: $padding;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* ----- 버튼 리셋 ----- */
@mixin button-reset {
    border: none;
    background: none;
    padding: 0;
    margin: 0;
    cursor: pointer;
    font: inherit;
    color: inherit;
}

/* ----- 링크 리셋 ----- */
@mixin link-reset {
    color: inherit;
    text-decoration: none;
    
    &:hover {
        text-decoration: none;
    }
}